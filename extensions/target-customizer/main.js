import{DataProvider as t,RenderEngine as e,StringLoader as n}from"../../core.min.js";const i={iconPath:{wave:'<path d="M22.768125 12.478124999999999c-2.15625 4.59375 -4.03125 6.6468750000000005 -6.076874999999999 6.6468750000000005 -2.59125 0 -4.106249999999999 -3.22875 -5.709375 -6.6468750000000005 -0.6693749999999999 -1.43625 -1.3696875 -2.9156250000000004 -2.083125 -3.9721874999999995C8.2865625 7.6021875 7.7371875 7.125 7.3125 7.125c-0.35812499999999997 0 -1.71 0.38625 -4.0396875 5.353125a1.125 1.125 0 0 1 -2.0371875 -0.9562499999999999c2.15625 -4.59375 4.03125 -6.6468750000000005 6.076874999999999 -6.6468750000000005 2.59125 0 4.106249999999999 3.22875 5.709375 6.6468750000000005 0.6740625 1.43625 1.3696875 2.9203124999999996 2.083125 3.9721874999999995 0.6121875 0.90375 1.1615625 1.3809375 1.59375 1.3809375 0.35812499999999997 0 1.71 -0.38625 4.0396875 -5.353125a1.125 1.125 0 0 1 2.0371875 0.9562499999999999Z"></path>',flatline:'<path d="M2 12C2 11.4477 2.44772 11 3 11H21C21.5523 11 22 11.4477 22 12C22 12.5523 21.5523 13 21 13H3C2.44772 13 2 12.5523 2 12Z"></path>',tilted:'<path d="M12.5935 23.2578l-0.0116 0.0017 -0.071 0.0355 -0.019 0.0037 -0.0152 -0.0037 -0.071 -0.0355c-0.0099 -0.0031 -0.0187 -0.0005 -0.0236 0.0054l-0.0041 0.0109 -0.0171 0.4273 0.005 0.0204 0.011 0.0122 0.1036 0.074 0.0148 0.0039 0.0118 -0.0039 0.1036 -0.074 0.0126 -0.016 0.0034 -0.0166 -0.0171 -0.4273c-0.002 -0.0101 -0.0086 -0.0165 -0.0161 -0.018Zm0.2649 -0.1125 -0.0139 0.002 -0.1847 0.0924 -0.0099 0.0102 -0.0027 0.0112 0.0179 0.4295 0.0048 0.0128 0.0085 0.0071 0.2009 0.0927c0.0121 0.0037 0.0229 -0.0002 0.0285 -0.008l0.004 -0.014 -0.0341 -0.6147c-0.0024 -0.0119 -0.0103 -0.0195 -0.0193 -0.0212Zm-0.7154 0.002c-0.0098 -0.0049 -0.0208 -0.002 -0.0274 0.0053l-0.0057 0.0139 -0.0341 0.6147c-0.0007 0.0115 0.007 0.0207 0.0168 0.0234l0.0157 -0.0014 0.2009 -0.0927 0.0094 -0.0081 0.0039 -0.0118 0.0179 -0.4295 -0.0032 -0.0126 -0.0094 -0.0088 -0.1848 -0.0924Z" stroke-width="5"></path><path d="M20.7071 3.29289c0.3905 0.39053 0.3905 1.02369 0 1.41422L4.70711 20.7071c-0.39053 0.3905 -1.02369 0.3905 -1.41422 0 -0.39052 -0.3905 -0.39052 -1.0237 0 -1.4142L19.2929 3.29289c0.3905 -0.39052 1.0237 -0.39052 1.4142 0Z" stroke-width="5"></path>'},Icon(t){return`\n    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"\n      style="width: 1.5rem; height: 1.5rem;"\n    >\n      ${this.iconPath[t]}\n    </svg>\n    `}};class Equalizer{constructor(){this.config={DefaultSampleRate:48e3}}_lowshelf(t,e,n){t/=this.config.DefaultSampleRate,t=Math.max(1e-6,Math.min(t,1)),e=Math.max(1e-4,Math.min(e,1e3)),n=Math.max(-40,Math.min(n,40));let i=2*Math.PI*t,r=Math.sin(i),a=Math.cos(i),l=Math.pow(10,n/40),o=r/(2*e),s=2*Math.sqrt(l)*o||0,c=l+1+(l-1)*a+s;return[1,-2*(l-1+(l+1)*a)/c,(l+1+(l-1)*a-s)/c,l*(l+1-(l-1)*a+s)/c,2*l*(l-1-(l+1)*a)/c,l*(l+1-(l-1)*a-s)/c]}_highshelf(t,e,n){t/=this.config.DefaultSampleRate,t=Math.max(1e-6,Math.min(t,1)),e=Math.max(1e-4,Math.min(e,1e3)),n=Math.max(-40,Math.min(n,40));let i=2*Math.PI*t,r=Math.sin(i),a=Math.cos(i),l=Math.pow(10,n/40),o=r/(2*e),s=2*Math.sqrt(l)*o||0,c=l+1-(l-1)*a+s;return[1,2*(l-1-(l+1)*a)/c,(l+1-(l-1)*a-s)/c,l*(l+1+(l-1)*a+s)/c,-2*l*(l-1+(l+1)*a)/c,l*(l+1+(l-1)*a-s)/c]}_peaking(t,e,n){t/=this.config.DefaultSampleRate,t=Math.max(1e-6,Math.min(t,1)),e=Math.max(1e-4,Math.min(e,1e3)),n=Math.max(-40,Math.min(n,40));let i=2*Math.PI*t,r=Math.sin(i),a=Math.cos(i),l=r/(2*e),o=Math.pow(10,n/40),s=1+l/o;return[1,-2*a/s,(1-l/o)/s,(1+l*o)/s,-2*a/s,(1-l*o)/s]}_calculateGains(t,e){let n=new Array(t.length).fill(0);for(let i=0;i<e.length;++i){let[r,a,l,o,s,c]=e[i];for(let e=0;e<t.length;++e){let i=2*Math.PI*t[e]/this.config.DefaultSampleRate,d=4*Math.pow(Math.sin(i/2),2),u=10*Math.log10(Math.pow(o+s+c,2)+(o*c*d-(s*(o+c)+4*o*c))*d)-10*Math.log10(Math.pow(r+a+l,2)+(r*l*d-(a*(r+l)+4*r*l))*d);n[e]+=u}}return n}_filtersToCoeffs(t){return t.map((t=>t.freq&&t.gain&&t.q?"LSQ"===t.type?this._lowshelf(t.freq,t.q,t.gain):"HSQ"===t.type?this._highshelf(t.freq,t.q,t.gain):"PK"===t.type?this._peaking(t.freq,t.q,t.gain):null:null)).filter((t=>t))}applyFilters(t,e){let n=t.map((t=>t[0])),i=this._filtersToCoeffs(e),r=this._calculateGains(n,i);return n.map(((e,n)=>[e,t[n][1]+r[n]]))}}class TargetCustomizer{constructor(t={}){this.config=t,this.customizableTargetList=this._getCustomizableTargetList()||[],this.currentTarget=new Map,this.observer=null,this._init()}_init(){this.selectionList=document.querySelector(".selection-list");const n=document.createElement("style");n.textContent="\n  .target-control-component {\n    display: block;\n    margin: 0.5rem;\n    margin-top: 0;\n    container: tc-container / inline-size;\n    max-height: 1000px;\n    overflow: hidden;\n    transition: max-height 0.3s ease-in-out, margin 0.3s ease-in-out, opacity 0.2s ease-in-out;\n    opacity: 1;\n  }\n\n  .target-control-component.tc-component-hidden {\n    max-height: 0;\n    margin: 0 0.5rem;\n    opacity: 0;\n    pointer-events: none;\n  }\n\n  .tc-container {\n    display: grid;\n    grid-template-columns: repeat(4, 1fr);\n    gap: 0.5rem;\n\n    span {\n      font: var(--gt-typescale-title-small);\n    }\n  }\n\n  .tc-input-group {\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    gap: 0.2rem;\n    padding: 0.5rem 0.4rem 0.5rem 0.5rem;\n    border-radius: 0.5rem;\n    background: var(--gt-color-tertiary-container);\n\n    label {\n      margin-left: 0.1rem;\n    }\n  }\n\n  .tc-input {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    width: 100%;\n    gap: 0.3rem;\n\n    input {\n      border: 1px solid var(--gt-color-outline);\n      outline: none;\n      border-radius: 0.3rem;\n      height: 1.5rem;\n      min-width: 2rem;\n    }\n\n    button {\n      min-width: 1.5rem;\n      min-height: 1.5rem;\n      border-radius: 1.5rem;\n      background: var(--gt-color-tertiary);\n      color: var(--gt-color-on-tertiary);\n    }\n  }\n\n  .tc-profile-container {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    margin-top: 0.5rem;\n    gap: 0.5rem;\n    padding: 0.5rem 0.4rem 0.5rem 0.5rem;\n    border-radius: 0.5rem;\n    background: var(--gt-color-tertiary-container);\n      \n    button {\n      min-width: 4rem;\n      min-height: 1.5rem;\n      border-radius: 1.5rem;\n      background: var(--gt-color-tertiary);\n      color: var(--gt-color-on-tertiary);\n    }\n  }\n\n  .tc-profile-select-container {\n    flex: 1;\n\n    select {\n      width: 100%;\n      min-height: 1.5rem;\n    }\n  }\n\n  .tc-view-toggle-btn {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    min-height: 1.5rem;\n    padding: 0.4rem 0.5rem;\n    border-radius: 0.5rem;\n    background: var(--gt-color-tertiary-container);\n    color: var(--gt-color-on-tertiary-container);\n  }\n  .tc-view-toggle-btn.active {\n    background: var(--gt-color-tertiary);\n    color: var(--gt-color-on-tertiary);\n  }\n\n  @media (hover: hover) and (pointer: fine) {\n    .tc-input button:hover, .tc-profile-container button:hover {\n      background: var(--gt-color-tertiary);\n      filter: var(--gt-hover-filter);\n    }\n    .tc-view-toggle-btn:hover {\n      background: var(--gt-color-tertiary-container);\n      filter: var(--gt-hover-filter);\n    }\n    .tc-view-toggle-btn.active:hover {\n      background: var(--gt-color-tertiary);\n      filter: var(--gt-hover-filter);\n    }\n  }\n\n  @container tc-container (max-width: 15rem) {\n    .tc-container {\n      grid-template-columns: 1fr;\n      grid-template-rows: repeat(4, 1fr);\n    }\n  }\n  @container tc-container (min-width: 15rem) and (max-width: 31rem) {\n    .tc-container {\n      grid-template-columns: repeat(2, 1fr);\n      grid-template-rows: repeat(2, 1fr);\n    }\n  }\n  @container tc-container (min-width: 31rem) {\n    .tc-container {\n      grid-template-columns: repeat(4, 1fr);\n      grid-template-rows: 1fr;\n    }\n  }\n",this.selectionList.appendChild(n),this._setupEventListeners(),this.observer&&this.observer.disconnect(),this.observer=new MutationObserver(this._handleMutations.bind(this)),this.observer.observe(this.selectionList,{childList:!0,subtree:!0}),Array.from(t.getFRDataMap()).forEach((([t,e])=>{if(this.customizableTargetList.includes(e.identifier)){if(!this.currentTarget.has(t)){const n=this.config.INITIAL_TARGET_FILTERS.find((t=>(t.name.endsWith(" Target")?t.name:t.name+" Target")===e.identifier))?.filter;n?(this.currentTarget.set(t,{identifier:e.identifier,filter:{tilt:n.tilt||0,bass:n.bass||0,treble:n.treble||0,ear:n.ear||0}}),this._updateTargetData(t)):this.currentTarget.set(t,{identifier:e.identifier,filter:{tilt:0,bass:0,treble:0,ear:0}})}const n=this.selectionList.querySelector(`.selection-list-item[data-uuid="${t}"]`);n&&!n.querySelector(".target-control-component")&&this._addTargetControlComponent(t)}})),e.updateLabels()}_addTargetControlComponent(t){const e=this.currentTarget.get(t);if(!e)return void console.warn(`Target data for UUID ${t} not found when trying to add control component.`);const i=this.selectionList.querySelector(`.selection-list-item[data-uuid="${t}"]`);if(!i)return void console.warn(`Parent element for UUID ${t} not found when trying to append control component.`);if(i.querySelector(".target-control-component"))return;const r=document.createElement("div");r.className="target-control-component tc-component-hidden",r.setAttribute("data-uuid",t),r.innerHTML=`\n      <div class="tc-container">\n        <div class="tc-input-group">\n          <label>${n.getString("extension.target-customizer.tc-label.tilt","Tilt (dB/oct)")}</label>\n          <div class="tc-input">\n            <input type="number" min="-10" max="10" value=${e.filter.tilt} step="0.1" class="tc-input" data-type="tilt">\n            <button class="tc-input-btn-dec">−</button>\n            <button class="tc-input-btn-inc">+</button>\n          </div>\n        </div>\n        <div class="tc-input-group">\n          <label>${n.getString("extension.target-customizer.tc-label.bass","Bass (dB)")}</label>\n          <div class="tc-input">\n            <input type="number" min="-20" max="20" value=${e.filter.bass} step="1" class="tc-input" data-type="bass">\n            <button class="tc-input-btn-dec">−</button>\n            <button class="tc-input-btn-inc">+</button>\n          </div>\n        </div>\n        <div class="tc-input-group">\n          <label>${n.getString("extension.target-customizer.tc-label.treble","Treble (dB)")}</label>\n          <div class="tc-input">\n            <input type="number" min="-20" max="20" value=${e.filter.treble} step="0.1" class="tc-input" data-type="treble">\n            <button class="tc-input-btn-dec">−</button>\n            <button class="tc-input-btn-inc">+</button>\n          </div>\n        </div>\n        <div class="tc-input-group">\n          <label>${n.getString("extension.target-customizer.tc-label.eargain","Ear Gain (dB)")}</label>\n          <div class="tc-input">\n            <input type="number" min="-20" max="20" value=${e.filter.ear} step="0.1" class="tc-input" data-type="ear">\n            <button class="tc-input-btn-dec">−</button>\n            <button class="tc-input-btn-inc">+</button>\n          </div>\n        </div>\n      </div>\n      <div class="tc-profile-container">\n        <div class="tc-profile-select-container">\n          <select class="tc-profile-select">\n            <option value="">\n              ${n.getString("extension.target-customizer.tc-profile.placeholder","Select filter profile")}\n            </option>\n          </select>\n        </div>\n        <button class="tc-filter-reset-btn">${n.getString("extension.target-customizer.tc-button.reset","Reset")}</button>\n      </div>\n    `,this.config.FILTER_SET.forEach((t=>{const e=document.createElement("option");e.value=t.name,e.textContent=t.name,r.querySelector(".tc-profile-select").appendChild(e)})),i.appendChild(r),this._addInputEventListener(r),this._addSelectEventListener(r),this._addResetBtnEventListener(r);const a=document.createElement("button");a.className="tc-view-toggle-btn",a.setAttribute("data-uuid",t),a.innerHTML=`\n      <span>${n.getString("extension.target-customizer.tc-button.view","Pref. Adjustment")}</span>\n    `,a.addEventListener("click",(t=>{r&&(a.classList.toggle("active"),r.classList.toggle("tc-component-hidden"))})),i.querySelector(".sl-item-leading").insertBefore(a,i.querySelector(".sl-item-leading").firstChild),this._updateBaselineButton(t)}_setupEventListeners(){window.addEventListener("core:fr-target-added",this._handleTargetAdded.bind(this)),window.addEventListener("core:fr-target-removed",this._handleTargetRemoved.bind(this)),n.addObserver(this._updateLanguage.bind(this))}_handleTargetAdded(e){const n=e.detail.uuid,i=t.getFRData(n);if(i&&this.customizableTargetList.includes(i.identifier)){if(!this.currentTarget.has(n)){const t=this.config.INITIAL_TARGET_FILTERS.find((t=>(t.name.endsWith(" Target")?t.name:t.name+" Target")===i.identifier))?.filter;t?(this.currentTarget.set(n,{identifier:i.identifier,filter:{tilt:t.tilt||0,bass:t.bass||0,treble:t.treble||0,ear:t.ear||0}}),this._updateTargetData(n)):this.currentTarget.set(n,{identifier:i.identifier,filter:{tilt:0,bass:0,treble:0,ear:0}})}if(this.selectionList){const t=this.selectionList.querySelector(`.selection-list-item[data-uuid="${n}"]`);t&&!t.querySelector(".target-control-component")&&this._addTargetControlComponent(n)}}}_handleTargetRemoved(t){const e=t.detail.uuid;this.currentTarget.delete(e)}_addInputEventListener(t){const n=t.querySelectorAll(".tc-input-btn-inc"),i=t.querySelectorAll(".tc-input-btn-dec"),r=t.querySelectorAll("input[type='number'].tc-input"),btnAction=(t,e)=>{const n=t.parentNode.querySelector("input"),i=parseFloat(n.step)||.1,r=parseFloat(n.value)||0,a="inc"===e?(r+i).toFixed(1):(r-i).toFixed(1),l=parseFloat(n.min),o=parseFloat(n.max);n.value=Math.max(l,Math.min(o,parseFloat(a))),n.dispatchEvent(new Event("change",{bubbles:!0}))},setupLongPress=(t,e)=>{let n,i=!1;t.addEventListener("mousedown",(()=>{i=!0,btnAction(t,e),n=setInterval((()=>{i&&btnAction(t,e)}),150)}));const stopAction=()=>{i=!1,clearInterval(n)};t.addEventListener("mouseup",stopAction),t.addEventListener("mouseleave",stopAction)};n.forEach((t=>{t.addEventListener("click",btnAction(t,"inc")),setupLongPress(t,"inc")})),i.forEach((t=>{t.addEventListener("click",btnAction(t,"dec")),setupLongPress(t,"dec")})),r.forEach((t=>{t.addEventListener("click",(()=>{t.select()})),t.addEventListener("change",(()=>{const n=t.closest(".target-control-component").getAttribute("data-uuid"),i=t.dataset.type;let r=parseFloat(t.value);const a=parseFloat(t.min),l=parseFloat(t.max);r=isNaN(r)?this.currentTarget.get(n)?.filter?.[i]??0:Math.max(a,Math.min(l,r));const o=r.toFixed(1);if(t.value=o,this.currentTarget.has(n)){const t=this.currentTarget.get(n);this.currentTarget.set(n,{...t,filter:{...t.filter,[i]:o}}),this._updateTargetData(n),e.updateLabels()}else console.warn(`Target data for UUID ${n} not found during input change.`)}))}))}_addSelectEventListener(t){const n=t.querySelector("select.tc-profile-select");n.addEventListener("change",(()=>{const i=n.closest(".target-control-component").getAttribute("data-uuid"),r=n.value;if(""===r)return;const a=this.config.FILTER_SET.find((t=>t.name===r));if(!a)return void console.warn(`Profile ${r} not found in FILTER_SET.`);this.currentTarget.set(i,{...this.currentTarget.get(i),filter:{tilt:a.filter.tilt||0,bass:a.filter.bass||0,treble:a.filter.treble||0,ear:a.filter.ear||0}});t.querySelectorAll("input[type='number'].tc-input").forEach((t=>{const e=t.dataset.type;t.value=a.filter[e]||0})),this._updateTargetData(i),e.updateLabels()}))}_addResetBtnEventListener(t){const n=t.querySelector(".tc-filter-reset-btn");n.addEventListener("click",(()=>{const i=n.closest(".target-control-component").getAttribute("data-uuid");this.currentTarget.set(i,{...this.currentTarget.get(i),filter:{tilt:0,bass:0,treble:0,ear:0}});t.querySelectorAll("input[type='number'].tc-input").forEach((t=>{t.value=0}));t.querySelector("select.tc-profile-select").value="",this._updateTargetData(i),e.updateLabels()}))}_updateTargetData(e){const n=this.currentTarget.get(e);if(void 0===n)return;const i=t.getFRData(e);if(void 0===i)return;const r=new Equalizer,a=[{type:"LSQ",freq:105,q:.707,gain:n.filter.bass||0},{type:"HSQ",freq:2500,q:.42,gain:n.filter.treble||0},{type:"PK",freq:2750,q:1,gain:n.filter.ear||0}],l={};Object.keys(i.channels).forEach((t=>{if(i.channels[t]){let e=[];e=""===i.dispSuffix?r.applyFilters(i.channels[t].data,a):r.applyFilters(i.meta.ogChannels[t].data,a);const o=e.map(((t,e)=>[t[0],t[1]+(n.filter.tilt||0)*Math.log2(t[0])]));l[t]={data:o,metadata:{...i.channels[t].metadata}}}}));let o="";0!==parseFloat(n.filter.tilt)&&(o+=`Tilt: ${`${n.filter.tilt}`.replace(".0","")}dB/oct `),0!==parseFloat(n.filter.bass)&&(o+=`Bass: ${`${n.filter.bass}`.replace(".0","")}dB `),0!==parseFloat(n.filter.treble)&&(o+=`Treble: ${`${n.filter.treble}`.replace(".0","")}dB `),0!==parseFloat(n.filter.ear)&&(o+=`Ear: ${`${n.filter.ear}`.replace(".0","")}dB `),t.updateFRDataWithRawData(e,l,{dispSuffix:""!==o?`(${o.trimEnd()})`:"",...""===i.dispSuffix&&void 0===i.meta.ogChannels&&{meta:{...i.meta,ogChannels:i.channels}}})}_updateBaselineButton(n){const r=this.selectionList.querySelector(`.selection-list-item[data-uuid="${n}"]`);if(!r)return void console.warn(`Parent element for UUID ${n} not found when trying to update baseline button.`);const a=r.querySelector(".sl-button.baseline");if(!a)return void console.warn(`Baseline button not found for UUID ${n}.`);const l=document.createElement("button");l.className="sl-button baseline",l.setAttribute("title","Set as tilted baseline"),l.innerHTML=`${i.Icon("wave")}`,a.parentNode.replaceChild(l,a),l.addEventListener("click",(r=>{r.preventDefault();const a=r.currentTarget,l=Array.from(a.classList).find((t=>["tilted","flat"].includes(t)))||"disabled",o=this.currentTarget.get(n).filter;"disabled"===l?0!==o.tilt?e.updateBaselineData(!0,{uuid:n,channelData:t.getFRData(n).meta.ogChannels.AVG.data}):e.updateBaselineData(!0,{uuid:n}):"tilted"===l?e.updateBaselineData(!0,{uuid:n}):"flat"===l?e.updateBaselineData(!1,{uuid:n}):console.error(`Unknown button status: ${l}`),this.selectionList.querySelectorAll(".sl-button.baseline").forEach((t=>{t===a?"disabled"===l?0!==o.tilt?(t.innerHTML=i.Icon("tilted"),t.classList.add("active","tilted"),t.setAttribute("title","Set as flat baseline")):(t.innerHTML=i.Icon("flatline"),t.classList.remove("tilted"),t.classList.add("active","flat"),t.setAttribute("title","Reset Baseline")):"tilted"===l?(t.innerHTML=i.Icon("flatline"),t.classList.remove("tilted"),t.classList.add("active","flat"),t.setAttribute("title","Reset Baseline")):"flat"===l?(t.innerHTML=i.Icon("wave"),t.classList.remove("active","flat","tilted"),t.setAttribute("title","Set as tilted baseline")):console.error(`Unknown button status: ${l}`):"disabled"===l&&(t.classList.remove("active","flat","tilted"),t.setAttribute("title","Set Baseline"),t.innerHTML=i.Icon("wave"))}))}))}_handleMutations(t,e){for(const e of t)"childList"===e.type&&e.addedNodes.forEach((t=>{if(t.nodeType===Node.ELEMENT_NODE&&t.matches(".selection-list-item")){const e=t.getAttribute("data-uuid");e&&this.currentTarget.has(e)&&!t.querySelector(".target-control-component")&&this._addTargetControlComponent(e)}else if(t.nodeType===Node.ELEMENT_NODE&&t.querySelector){const e=t.querySelector(".selection-list-item");if(e){const t=e.getAttribute("data-uuid");t&&this.currentTarget.has(t)&&!e.querySelector(".target-control-component")&&this._addTargetControlComponent(t)}}}))}_updateLanguage(){const t=this.selectionList.querySelectorAll(".tc-view-toggle-btn");t&&t.forEach((t=>{t.innerHTML=`\n          <span>${n.getString("extension.target-customizer.tc-button.view","Pref. Adjustment")}</span>\n        `}));const e=this.selectionList.querySelectorAll(".target-control-component");e&&e.forEach((t=>{t.querySelectorAll(".tc-input-group label").forEach(((t,e)=>{0===e?t.innerHTML=n.getString("extension.target-customizer.tc-label.tilt","Tilt (dB/oct)"):1===e?t.innerHTML=n.getString("extension.target-customizer.tc-label.bass","Bass (dB)"):2===e?t.innerHTML=n.getString("extension.target-customizer.tc-label.treble","Treble (dB)"):3===e&&(t.innerHTML=n.getString("extension.target-customizer.tc-label.ear","Ear Gain (dB)"))}));t.querySelector(".tc-profile-select > option[value='']").innerHTML=n.getString("extension.target-customizer.tc-profile.placeholder","Select filter profile");t.querySelector(".tc-filter-reset-btn").innerHTML=n.getString("extension.target-customizer.tc-button.reset","Reset")}))}_getCustomizableTargetList(){return this.config.CUSTOMIZABLE_TARGETS.map((t=>t.endsWith(" Target")?t:t+" Target"))}}export{TargetCustomizer as default};
//# sourceMappingURL=main.js.map
